# CERN SixTrack simulation environment

## How to test SixTrack with SixDesk

Build SixTrack binary using instructions [here](https://github.com/apc-llc/sixtrack).

Load tests configurations and full path to SixTrack executable into environment variables, e.g.:

    $ export TESTS="lost tilt crabamp"
    $ export EXECS=~/apc/sixtrack/SixTrack_4509_cernlib_crlibm_gfortran_debug_O0/SixTrack_4509_cernlib_crlibm_gfortran_debug_O0

Perform testing and compare results against canonical:

    $ cd sixtest/
    $ ./run_pro 
    $ ./comp_10 4509

Example comparison output below indicates that *lost* and *tilt* tests results are equal to canonical, and *crabamp* is different:

```
++++++++++++++++++++++++++++++++++++++
Comparing canonical to run_pro_SixTrack_4509_cernlib_crlibm_gfortran_debug_O0_M17xR4
++++++++++++++++++++++++++++++++++++++
      ====================================
      CASE lost
      ====================================
 Comparing VERSION    40438.000000000000       to    40509.000000000000     
 SAME after comparing           30 lines
fort.10 SAME
      ====================================
      CASE tilt
      ====================================
 Comparing VERSION    40438.000000000000       to    40509.000000000000     
 SAME after comparing           30 lines
fort.10 SAME
      ====================================
      CASE crabamp
      ====================================
 DIFF fort.10, line           1
 DIFF          12   63.878267210448342        63.878267207602178       2.84616419321537251E-009
 HUGE!  2.84616419321537251E-009
 DIFF          13  7.36637621789982319E-003  7.36637948774136915E-003 -3.26984154596504650E-009
 HUGE!  3.26984154596504650E-009
 DIFF          14   58.674523939051276        58.674523939051284      -7.10542735760100186E-015
 DIFF          15  1.23503443930557313E-003  1.23503442727964990E-003  1.20259232259944948E-011
 HUGE!  1.20259232259944948E-011
 DIFF          19   68.983013851278358        68.982983877236151       2.99740422065042367E-005
 HUGE!  2.99740422065042367E-005
 DIFF          21   68.983013851278358        68.982983877236151       2.99740422065042367E-005
 HUGE!  2.99740422065042367E-005
 DIFF          25  1.17641903928968668E-003  1.17641903922960801E-003  6.00786781435047601E-014
 HUGE!  6.00786781435047601E-014
 DIFF          28  1.00263180674343818E-005  1.00263569503126561E-005 -3.88828782742884314E-011
 HUGE!  3.88828782742884314E-011
 DIFF          29  1.58011613596417016E-003  1.58011566178989805E-003  4.74174272112673489E-010
 HUGE!  4.74174272112673489E-010
 DIFF          30  2.31514423468550702E-003  2.31514352058966120E-003  7.14095845823214948E-010
 HUGE!  7.14095845823214948E-010
 DIFF          31  1.42661525373867025E-016  1.42661525374089237E-016 -2.22212256239443763E-028
 DIFF          32  1.42695374157026714E-016  1.42695374159857935E-016 -2.83122178883821137E-027
 DIFF          33  1.42730972713629673E-016  1.42730972721335168E-016 -7.70549471458569069E-027
 DIFF          35  3.51367929614545050E-005  3.51367716572480320E-005  2.13042064729513508E-011
 HUGE!  2.13042064729513508E-011
 DIFF          36  5.94225519390568244E-005  5.94225657733811897E-005 -1.38343243653339665E-011
 HUGE!  1.38343243653339665E-011
 DIFF          38  4.65266897828563339E-015  4.65266896236070345E-015  1.59249299423401549E-023
 DIFF          39  6.90231043168016078E-015  6.90231042421270958E-015  7.46745120326981905E-024
 DIFF          41  3.51367929614545050E-005  3.51367716572480320E-005  2.13042064729513508E-011
 HUGE!  2.13042064729513508E-011
 DIFF          42  5.94225519390568244E-005  5.94225657733811897E-005 -1.38343243653339665E-011
 HUGE!  1.38343243653339665E-011
 DIFF          44  4.65266897828563418E-015  4.65266896236070424E-015  1.59249299423401549E-023
 DIFF          45  7.86848886068547398E-015  7.86849543647863851E-015 -6.57579316453540957E-021
 Comparing VERSION    40438.000000000000       to    40509.000000000000     
 SAME after comparing            1 lines
fort.10 SAME
```

Instruction prepared by @ialex2004
